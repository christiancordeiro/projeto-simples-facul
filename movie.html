<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>MovieInfo - Filme</title>
        <link rel="stylesheet" href="/styles.css" />
    </head>
    <body>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="sobre.html">Sobre</a></li>
            </ul>
        </nav>
        <main id="movie-details"></main>
        <script>
            const API_KEY = 'a9b65d778d7a2b515f6494d878bc4453';
            const BASE_URL = 'https://api.themoviedb.org/3';

            const urlParams = new URLSearchParams(window.location.search);
            const movieId = urlParams.get('id');

            async function getMovieDetails(id) {
                const res = await fetch(
                    `${BASE_URL}/movie/${id}?api_key=${API_KEY}&language=pt-BR`
                );
                const movie = await res.json();

                const container = document.getElementById('movie-details');
                container.innerHTML = `
                <div class="movie-background">
                    <div class="overlay"></div>
                  <img src="https://image.tmdb.org/t/p/original${movie.backdrop_path}" alt="${movie.title}" />
                </div>
                <div class="movie-details">
                  <div class="movie-img">
                    <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title}" />
                  </div>
                  <div class="movie-info">
                    <h1>${movie.title}</h1>
                    <h2><strong>Sinopse:</strong> ${movie.overview}</h2>
                    <p><strong>Data de lan√ßamento:</strong> ${movie.release_date}</p>
                    <p><strong>Nota:</strong> ${movie.vote_average}</p>
                  </div>
                </div>
        `;
            }

            getMovieDetails(movieId);
        </script>
    </body>
</html>
